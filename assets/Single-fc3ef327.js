import{r as y,o as s,c as i,f as t,u as d,s as f,t as n,v as k,j as l,a as u,i as v,b as w,F as S,k as b,d as x,w as D,e as p,n as R,x as A,y as B,z as C,m as z,q as g,A as F,h as N}from"./index-799c92c4.js";const V={key:0,class:"single__wrapper"},j=["src"],I={class:"single__content"},L={class:"single__left"},T={class:"single__title"},U={class:"single__desc"},q={class:"single__about"},E={key:0,class:"single__time"},H={class:"single__right"},M=["src"],Y={class:"single__block"},G=t("h3",{class:"single__subtitle"},"В главных ролях",-1),J={class:"single__actors"},K={__name:"SingleContent",props:["current","type"],setup(e){return(r,c)=>{const o=y("Trailer"),_=y("Actors");return e.current?(s(),i("div",V,[t("img",{src:d(f)+e.current.backdrop_path,alt:"",class:"single__bg"},null,8,j),t("div",I,[t("div",L,[t("h2",T,n(e.current.title||e.current.name),1),t("p",U,n(e.current.overview),1),t("p",q,[k(n(new Date(e.current.release_date||e.current.first_air_date).getFullYear())+", "+n(e.current.genres.map(a=>a.name).join(", "))+" ",1),e.current.runtime?(s(),i("span",E,n(new Date(0,0,0,0,e.current.runtime).getHours())+"h "+n(new Date(0,0,0,0,e.current.runtime).getMinutes())+"m ",1)):l("",!0)]),u(o)]),t("div",H,[t("img",{src:d(v)+e.current.poster_path,alt:"",class:"single__img"},null,8,M)]),t("div",Y,[G,t("div",J,[u(_,{type:e.type,id:e.current.id,count:"6"},null,8,["type","id"])])])])])):l("",!0)}}},O={key:0,class:"additional container"},P={key:0,class:"additional__card"},Q=t("h4",{class:"additional__title"},"Бюджет",-1),W={class:"additional__desc"},X={key:1,class:"additional__card"},Z=t("h4",{class:"additional__title"},"Сборы",-1),ee={class:"additional__desc"},te={key:2,class:"additional__card"},ne=t("h4",{class:"additional__title"},"Статус",-1),se={class:"additional__desc"},ce={key:3,class:"additional__card"},ae=t("h4",{class:"additional__title"},"Исходное название",-1),ie={class:"additional__desc"},re={__name:"Additional",props:["current"],setup(e){return(r,c)=>e.current?(s(),i("div",O,[e.current.budget?(s(),i("div",P,[Q,t("p",W,"$"+n(e.current.budget.toLocaleString()),1)])):l("",!0),e.current.revenue?(s(),i("div",X,[Z,t("p",ee,"$"+n(e.current.revenue.toLocaleString()),1)])):l("",!0),e.current.status?(s(),i("div",te,[ne,t("p",se,n(e.current.status),1)])):l("",!0),e.current.original_title||e.current.original_name?(s(),i("div",ce,[ae,t("p",ie,n(e.current.original_title||e.current.original_name),1)])):l("",!0)])):l("",!0)}},oe={key:0,class:"recommend container"},le={class:"recommend__title"},de={class:"recommend__content"},_e={__name:"Recommend",props:{current:Array,type:String},setup(e){return(r,c)=>{const o=y("router-link"),_=w("lazy");return e.current?(s(),i("div",oe,[t("h2",le,n(e.current.length>0?"Рекомендации":"Нет рекомендаций"),1),t("div",de,[(s(!0),i(S,null,b(e.current,(a,m)=>(s(),x(o,{to:`/${e.type}/${a.id}`,key:a.id},{default:D(()=>[p(t("img",{alt:"",class:R(["recommend__img",{recommend__img_no:!a.poster_path}])},null,2),[[_,d(v)+a.poster_path]])]),_:2},1032,["to"]))),128))])])):l("",!0)}}},ue=A("recommend",{state:()=>({info:null}),actions:{async getRecommend(e,r){try{const o=await(await fetch(`https://api.themoviedb.org/3/${r}/${e}/recommendations?language=ru&page=1`,B)).json();this.info=o.results}catch(c){console.log(c)}}}}),me={class:"single"},ye={__name:"Single",props:{type:String},setup(e){const r=e;let c=C(),o=ue();const _=z();let a=g(()=>_.params.id);c.getDetails(a.value,r.type),o.getRecommend(a.value,r.type);let m=g(()=>c.info),$=g(()=>o.info);return F(()=>{c.info=null}),N(a,h=>{c.getDetails(h,r.type),o.getRecommend(h,r.type)}),(h,he)=>(s(),i("div",me,[u(K,{current:d(m),type:e.type},null,8,["current","type"]),u(re,{current:d(m)},null,8,["current"]),u(_e,{current:d($),type:e.type},null,8,["current","type"])]))}};export{ye as _};
